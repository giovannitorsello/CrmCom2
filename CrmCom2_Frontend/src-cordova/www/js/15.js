(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{5218:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"wrapper"}},[o("q-form",{ref:"loginForm",staticClass:"q-gutter-md",on:{submit:function(t){return e.fullTextSearch()}}},[o("q-input",{attrs:{label:"Ricerca cliente"},model:{value:e.textToSearch,callback:function(t){e.textToSearch=t},expression:"textToSearch"}})],1),e.showCustomerSearch?o("div",[o("q-table",{attrs:{title:"Clienti",data:e.customers,columns:e.columnsTableCustomers,"row-key":"id","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(t){e.pagination=t},"row-click":e.selectCustomer}})],1):e._e()],1)},a=[],r=o("2f62"),n={data(){return{customers:[],textToSearch:"",showCustomerSearch:!1,pagination:{rowsPerPage:0},columnsTableCustomers:[{name:"firstname",label:"Nome",field:e=>e.firstname,sortable:!0},{name:"lastname",label:"Cognome",field:e=>e.lastname,sortable:!0},{name:"phone",label:"Telefono",field:e=>e.mobilephone},{name:"email",label:"Email",field:e=>e.email}]}},components:{},methods:{fullTextSearch:function(){this.$store;this.selectedCustomer={},this.showCustomerSearch=!0,this.$axios.post("/adminarea/fulltextsearch",{textToSearch:this.textToSearch}).then(e=>{"OK"===e.data.status&&(this.customers=e.data.results,this.customers.length>0?this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Ricerca effettuata"}):this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Nessun risultato"}))}).catch(e=>{this.makeToast("Nessun cliente"),console.log(e)})},selectCustomer(e,t,o){const s=this.$store;this.showCustomerSearch=!1,console.log("Select customer"),console.log(t),s.commit("changeCustomer",t),this.$router.push("/Customer")}},computed:Object(r["b"])({user:"user",customer:"customer",contract:"contract",deviceCustomer:"deviceCustomer"}),created(){}},l=n,c=o("2877"),i=o("0378"),u=o("27f9"),m=o("eaac"),h=o("eebe"),d=o.n(h),p=Object(c["a"])(l,s,a,!1,null,null,null);t["default"]=p.exports;d()(p,"components",{QForm:i["a"],QInput:u["a"],QTable:m["a"]})}}]);