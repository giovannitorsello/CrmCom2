(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{e42a:function(e,t,i){},e978:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"service"}},[r("h5",[e._v("Sezione personalizzazione servizio")]),r("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:i("f32a")},on:{click:e.newService}}),r("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:i("40b4")},on:{click:e.saveService}}),r("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:i("c8ed")},on:{click:e.deleteService}}),r("img",{staticStyle:{width:"48px",height:"48px"},attrs:{src:i("5df3")},on:{click:e.exit}}),r("ValidationObserver",{ref:"formServiceContract"},[r("q-form",{ref:"serviceForm",staticClass:"q-gutter-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"Descrizione",immediate:"",rules:"required|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Descrizione"},model:{value:e.selectedService.description,callback:function(t){e.$set(e.selectedService,"description",t)},expression:"selectedService.description"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1),r("div",{staticClass:"col"},[r("q-input",{attrs:{label:"Codice"},model:{value:e.selectedService.code,callback:function(t){e.$set(e.selectedService,"code",t)},expression:"selectedService.code"}})],1),r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"Unità",immediate:"",rules:"required|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Unità"},model:{value:e.selectedService.unit,callback:function(t){e.$set(e.selectedService,"unit",t)},expression:"selectedService.unit"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1),r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"Intervallo di fatturazione",immediate:"",rules:"required|integer"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Intervallo fatturazione in giorni"},model:{value:e.selectedService.billingPeriod,callback:function(t){e.$set(e.selectedService,"billingPeriod",t)},expression:"selectedService.billingPeriod"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"Prezzo",immediate:"",rules:"required|decimal"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Prezzo"},model:{value:e.selectedService.price,callback:function(t){e.$set(e.selectedService,"price",t)},expression:"selectedService.price"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1),r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"IVA",immediate:"",rules:"required|decimal"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"IVA"},model:{value:e.selectedService.vat,callback:function(t){e.$set(e.selectedService,"vat",t)},expression:"selectedService.vat"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"G. avviso fattura",immediate:"",rules:"required|integer"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Giorni successivi all'invio fattura a partire dai quali viene prodotto l'avviso"},model:{value:e.selectedService.dayinvoicereminder,callback:function(t){e.$set(e.selectedService,"dayinvoicereminder",t)},expression:"selectedService.dayinvoicereminder"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"G. mancato pagamento",immediate:"",rules:"required|integer"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Giorni invio preavviso mancato pagamento"},model:{value:e.selectedService.nopaydaysbeforedeactivation,callback:function(t){e.$set(e.selectedService,"nopaydaysbeforedeactivation",t)},expression:"selectedService.nopaydaysbeforedeactivation"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("ValidationProvider",{attrs:{name:"G. disatt. servizi",immediate:"",rules:"required|integer"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("q-input",{attrs:{label:"Giorni invio preavviso disattivazione dei servizi"},model:{value:e.selectedService.dayforexpirationwarning,callback:function(t){e.$set(e.selectedService,"dayforexpirationwarning",t)},expression:"selectedService.dayforexpirationwarning"}}),r("span",{staticClass:"error"},[e._v(e._s(i[0]))])]}}])})],1)])])],1),r("hr",{staticClass:"separator"}),e.selectedService.objData?r("div",{attrs:{id:"serviceTemplateParameters"}},[r("h6",[e._v("Parametri servizio")]),e._l(e.selectedService.objData.parameters,(function(t,i){return r("div",{key:i,staticClass:"row"},[r("div",{staticClass:"col"},[r("q-input",{attrs:{label:i,id:i},model:{value:e.selectedService.objData.parameters[i],callback:function(t){e.$set(e.selectedService.objData.parameters,i,t)},expression:"selectedService.objData.parameters[primitiveName]"}})],1)])}))],2):e._e()],1)},a=[],s=i("2f62"),c=i("4360"),o=i("7bb1"),n=(i("2ee0"),{data(){return{selectedService:{}}},components:{ValidationProvider:o["b"],ValidationObserver:o["a"]},methods:{getServiceData:function(){this.selectedService=Object.assign({},this.$store.state.service)},newService:function(){this.selectedService={},this.$store.commit("changeService",{})},saveService:function(){this.$axios.post("/adminarea/contractService/update",{service:this.selectedService}).then((e=>{"OK"===e.data.status&&(this.selectedService=e.data.service,this.$store.commit("changeService",this.selectedService),this.makeToast(e.data.msg))})).catch((e=>{console.log(e)}))},deleteService:function(){this.$axios.post("/adminarea/contractService/delete",{idContractService:this.selectedService.id}).then((e=>{"OK"===e.data.status&&(this.selectedService={},this.$store.commit("changeService",{}),this.makeToast(e.data.msg))})).catch((e=>{console.log(e)}))},exit:function(){this.$store.commit("changeService",{}),this.$router.push("/Contract")},makeToast(e){this.$q.notify({color:"green-4",textColor:"white",icon:"info",message:e})}},computed:Object(s["b"])({user:"user",customer:"customer",contract:"contract",service:"service"}),mounted(){this.getServiceData()},beforeRouteEnter(e,t,i){var r=c["a"].state.user;"admin"===r.role||"manager"===r.role||"technician"===r.role?i():i("/Login")}}),l=n,d=(i("f540"),i("2877")),v=i("0378"),u=i("27f9"),p=i("eebe"),m=i.n(p),f=Object(d["a"])(l,r,a,!1,null,"49419ea6",null);t["default"]=f.exports;m()(f,"components",{QForm:v["a"],QInput:u["a"]})},f540:function(e,t,i){"use strict";i("e42a")}}]);