(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"5e61":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"monitoringDashboard",fluid:""}},[i("q-table",{attrs:{data:e.itemsTable,columns:e.fieldsTable}})],1)},a=[],l=(i("e01a"),i("4360")),n={data(){return{fieldsTable:[{name:"description",label:"Descrizione",sortable:!0,field:e=>e.description},{name:"ip",label:"Ip",sortable:!0,field:e=>e.ip},{name:"min",label:"Min",sortable:!0,field:e=>e.min},{name:"max",label:"Max",sortable:!0,field:e=>e.max},{name:"avg",label:"Avg",sortable:!0,field:e=>e.avg},{name:"loss",label:"Perdita",sortable:!0,field:e=>e.loss},{name:"recvs",label:"Ricevuti (max 10)",sortable:!0,field:e=>e.recvs},{name:"totLoss",label:"Perdita cumulata",sortable:!0,field:e=>e.totLoss},{name:"repetition",label:"Ripetizione (max 10)",sortable:!0,field:e=>e.repetition}],itemsTable:[]}},mounted(){this.ready()},methods:{ready(){this.getAllDevicesMonitored(),this.interval=setInterval(function(){this.getAllDevicesMonitored()}.bind(this),5e3)},getAllDevicesMonitored(){this.$axios.post("/adminarea/deviceCustomer/getMonitored",{}).then((e=>{"OK"===e.data.status&&(this.devicesMonitored=e.data.devicesCustomer,this.getStatisticsData())})).catch((e=>{console.log(e)}))},getStatisticsData(){this.itemsTable=[],this.devicesMonitored.forEach((e=>{if(e&&e.statistics.ping){const t={description:e.description,ip:e.ipv4+"  "+e.ipv6,min:e.statistics.ping.min,max:e.statistics.ping.max,avg:e.statistics.ping.avg,loss:e.statistics.ping.packetLoss,recvs:e.statistics.ping.times.length,totLoss:e.statistics.lossPackets,repetition:e.statistics.countCycle};this.itemsTable.push(t)}}))}},beforeRouteEnter(e,t,i){var s=l["a"].state.user;console.log(s),"admin"===s.role||"manager"===s.role||"technician"===s.role?i():i("/Login")}},o=n,c=(i("dcc2"),i("2877")),r=i("eaac"),d=i("eebe"),m=i.n(d),b=Object(c["a"])(o,s,a,!1,null,null,null);t["default"]=b.exports;m()(b,"components",{QTable:r["a"]})},dcc2:function(e,t,i){"use strict";i("f7cc")},f7cc:function(e,t,i){}}]);